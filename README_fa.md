<base target="_blank">

<div dir="ltr" >



[**🇺🇸 English**](README.md)
</div>
<br>
<div align=center markdown="1">
 

![Hiddify Logo](https://user-images.githubusercontent.com/125398461/227777845-a4d0f86b-faa2-4f2b-a410-4aa5f68bfe19.png)

</div>

<div dir="rtl" align="right">
 <base target="_blank">



# سازنده سرور میانی هیدیفای
این اسکریپت روش‌های زیر را برای ایجاد یک تانل بین سرور میانی و سرور اصلی در اختیار شما قرار می‌دهد.
<div align="left" dir="ltr">
 
`۱. IP-Tables`

`۲. GOST`

`۳. Dokodemo-Door`

`۴. HA-Proxy`

`۵. Socat`

</div>

## ⚙️ نصب و راه‌اندازی
برای ایجاد تانل در سرور میانی خود، فقط باید دستور زیر را اجرا کنید.

<div align="left" dir="ltr">
 
```
bash -c "$(curl -L https://raw.githubusercontent.com/hiddify/hiddify-relay/main/install.sh)"
```
</div>

<div align=center>

  <img src="https://github.com/hiddify/hiddify-relay/assets/125398461/3772cf2d-2898-497e-a3de-b72ac814d087" alt="Relay-builder Menu" />
</div>

### 🛠️ تانل IP-Tables
مطابق تصویر اول بالا، شماره`1` را انتخاب کنید و گزینه `IP-Tables tunnel` را انتخاب نمایید تا بتوانید آن را مدیریت کنید:

<div align=center>

![منو تانل IP-Tables](https://github.com/hiddify/hiddify-relay/assets/125398461/da9b8dd7-8cb8-4ad6-963a-80d790f26d1a)

</div>

`1. قوانین iptables را نصب کنید

پس از انتخاب عدد '1' در 'IP-Tables Menu'، از شما می خواهد که آدرس IP سرور اصلی را وارد کرده و دکمه 'Enter' را فشار دهید تا تانل در پورت های '443' و '80' فعال شود.

`2. پورت های در حال استفاده را بررسی کنید
این گزینه پورت های استفاده شده در تانل IPTables را به شما نشان می دهد.

3. قوانین iptables را حذف نصب کنید
این گزینه تمام قوانین ایجاد شده برای تانل و سایر قوانین را پاک می کند.

> [!توجه]
> دقت کنید که اگر قوانین خاصی در کنار تانل به صورت دستی ایجاد کرده اید با این دستور حذف شوند.

`4. بازگشت به منوی اصلی`
برای بازگشت به منوی اصلی "4" را فشار دهید.

### 🛠️ تانل GOST
مطابق تصویر اول بالا، شماره «2» را انتخاب کنید و برای مدیریت آن وارد «GOST Tunnel» شوید:

<div align=center>
 
![GOST Tunnel](https://github.com/hiddify/hiddify-relay/assets/125398461/fe813676-52e6-451f-8d78-22ebdfe2753e)

</div>

`1. GOST` را نصب کنید

- پس از انتخاب شماره '1' منتظر بمانید تا تانل نصب شود.
- پس از اتمام نصب، در مرحله اول باید پورت مورد نظر برای تانل را وارد کرده و سپس Enter را فشار دهید.
- در مرحله بعد دامنه یا ساب دامین سرور اصلی خود را وارد کرده و «Enter» را فشار دهید. صبر کنید تا تانل شروع شود.
- پس از شروع، پیغام 'Gost tunnel is installed and activated' به رنگ سبز نمایش داده می شود.

`2. پورت و وضعیت GOST را بررسی کنید

پس از انتخاب گزینه '2'، پورت های استفاده شده در تانل و وضعیت تانل به شما نمایش داده می شود.

3. یک پورت و دامنه دیگر اضافه کنید
- اگر می خواهید از سرور رله به چندین سرور خارجی تانل کنید، می توانید از این گزینه استفاده کنید.
- پس از انتخاب عدد '3' باید وارد پورت جدید شوید، دکمه 'Enter' را فشار دهید، سپس وارد دامنه سرور اصلی شده و دکمه 'Enter' را فشار دهید.
- برای اطمینان از درست انجام شدن مراحل قبلی و بررسی پورت های استفاده شده و فعال بودن تانل می توانید گزینه شماره '2' را وارد کنید.

`4. حذف نصب GOST`

این گزینه تانل GOST را از سرور رله شما حذف می کند.

`5. بازگشت به منوی اصلی`

برای بازگشت به منوی اصلی "5" را فشار دهید.


### 🛠️ تانل Dokodemo-door
با توجه به تصویر اول بالا، شماره '3' را انتخاب کنید و برای مدیریت آن وارد 'Dekodemo-door Tunnel' شوید:

<div align=center>
 
![تانل Dokodemo](https://github.com/hiddify/hiddify-relay/assets/125398461/287db74b-cb88-4976-826e-5fcf5de99bfe)

</div>

`1. Xray را نصب کنید و inbound را اضافه کنید
- پس از انتخاب عدد '1' در منوی Dokodemo-door tunnel منتظر بمانید تا هسته Xray روی سرور رله نصب شود.
- پس از نصب، «آدرس IP» یا «دامنه» سرور اصلی را در «بخش آدرس» وارد کنید.
- در قسمت بعدی پورت مورد نظر تانل را وارد کنید (توصیه شده: 443,80)، سپس دکمه «Enter» را فشار دهید.
- پیام 'Inbound added and tunnel start' نمایش داده می شود.

`2. وضعیت سرویس Xray را بررسی کنید
پس از انتخاب گزینه '2'، پورت های استفاده شده در تانل و وضعیت تانل روی صفحه نمایش داده می شود.

3. یک ورودی دیگر اضافه کنید
- می توانید از گزینه '3' در منوی تانل Dokodemo-door برای ایجاد یک اتصال ورودی دیگر و اتصال سرور رله خود به چندین سرور خارجی استفاده کنید.
- پس از انتخاب گزینه «3»، در «بخش آدرس جدید»، «آدرس IP» یا «دامنه» سرور جدید خود را وارد کنید، سپس «Enter» را فشار دهید.
- مرحله بعد، پورت جدید را در "فیلد پورت جدید" وارد کرده و دکمه "Enter" را فشار دهید. ورودی اضافه شده را خواهید دید.
- برای اطمینان از درست انجام شدن مراحل قبلی و بررسی پورت های استفاده شده و فعال بودن تانل می توانید گزینه شماره '2' را وارد کنید.


`4. تانل Xray و Dokodemo-Door را حذف نصب کنید
این گزینه را برای حذف تانل Dokodemo-door و هسته Xray از سرور رله خود انتخاب کنید.

`5. بازگشت به منوی اصلی`
به منظور بازگشت t
